---
# Docker resources
docker_network_name: banking-network
postgres_volume_name: banking-postgres-data
rabbitmq_volume_name: banking-rabbitmq-data
loki_volume_name: banking-loki-data

# Container metadata
postgres_container_name: banking-postgres
rabbitmq_container_name: banking-rabbitmq
account_service_container_name: banking-account-service
transaction_service_container_name: banking-transaction-service
loki_container_name: banking-loki
promtail_container_name: banking-promtail

# Container images
postgres_image: postgres:15-alpine
rabbitmq_image: rabbitmq:3-management-alpine
loki_image: grafana/loki:2.9.2
promtail_image: grafana/promtail:2.9.2
account_service_image: ""
transaction_service_image: ""

# Database credentials
postgres_user: "{{ lookup('env', 'POSTGRES_USER') | default('bankuser', true) }}"
postgres_password: "{{ lookup('env', 'POSTGRES_PASSWORD') | default('bankpass', true) }}"
postgres_db: "{{ lookup('env', 'POSTGRES_DB') | default('banking_db', true) }}"

# RabbitMQ credentials
rabbitmq_user: "{{ lookup('env', 'RABBITMQ_USER') | default('guest', true) }}"
rabbitmq_password: "{{ lookup('env', 'RABBITMQ_PASSWORD') | default('guest', true) }}"
rabbitmq_queue: "{{ lookup('env', 'RABBITMQ_QUEUE') | default('transaction.created', true) }}"
rabbitmq_management_port: "{{ lookup('env', 'RABBITMQ_MANAGEMENT_PORT') | default(15672, true) }}"
rabbitmq_port: "{{ lookup('env', 'RABBITMQ_PORT') | default(5672, true) }}"

# Service ports
account_service_port: 8000
transaction_service_port: 8001
loki_port: 3100
promtail_port: 9080

# Monitoring configuration paths
monitoring_config_path: /opt/banking-monitoring
loki_config_file: "{{ monitoring_config_path }}/loki-config.yml"
promtail_config_file: "{{ monitoring_config_path }}/promtail-config.yml"

# Firewall configuration
firewall_tcp_ports:
  - "{{ account_service_port }}"
  - "{{ transaction_service_port }}"
  - "{{ rabbitmq_port }}"
  - "{{ rabbitmq_management_port }}"
  - "{{ loki_port }}"
